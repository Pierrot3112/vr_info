{"ast":null,"code":"var _jsxFileName = \"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\";\nimport React, { useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated, { useSharedValue, useAnimatedStyle, withTiming, Easing } from 'react-native-reanimated';\nimport styles from '../../styles/splash.style';\nimport { checkToken, getRole } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst _worklet_5278684226245_init_data = {\n  code: \"function SplashTsx1(){const{text1Position}=this.__closure;return{transform:[{translateX:text1Position.value}]};}\",\n  location: \"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"SplashTsx1\\\",\\\"text1Position\\\",\\\"__closure\\\",\\\"transform\\\",\\\"translateX\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\\\"],\\\"mappings\\\":\\\"AAgEgD,SAAAA,WAAA,QAAAC,aAAA,OAAAC,SAAA,OAAO,CAC/CC,SAAS,CAAE,CAAC,CAAEC,UAAU,CAAEH,aAAa,CAACI,KAAM,CAAC,CACnD,CAAC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst _worklet_5095882523014_init_data = {\n  code: \"function SplashTsx2(){const{text2Position}=this.__closure;return{transform:[{translateX:text2Position.value}]};}\",\n  location: \"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"SplashTsx2\\\",\\\"text2Position\\\",\\\"__closure\\\",\\\"transform\\\",\\\"translateX\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\\\"],\\\"mappings\\\":\\\"AAoEgD,SAAAA,WAAA,QAAAC,aAAA,OAAAC,SAAA,OAAO,CAC/CC,SAAS,CAAE,CAAC,CAAEC,UAAU,CAAEH,aAAa,CAACI,KAAM,CAAC,CACnD,CAAC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst _worklet_17536159572726_init_data = {\n  code: \"function SplashTsx3(){const{loaderOpacity}=this.__closure;return{opacity:loaderOpacity.value};}\",\n  location: \"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"SplashTsx3\\\",\\\"loaderOpacity\\\",\\\"__closure\\\",\\\"opacity\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx\\\"],\\\"mappings\\\":\\\"AAwEyC,SAAAA,WAAA,QAAAC,aAAA,OAAAC,SAAA,OAAO,CACxCC,OAAO,CAAEF,aAAa,CAACG,KAC3B,CAAC\\\",\\\"ignoreList\\\":[]}\",\n  version: \"3.16.7\"\n};\nconst Splash = ({\n  navigation\n}) => {\n  const text1Position = useSharedValue(-200);\n  const text2Position = useSharedValue(200);\n  const loaderOpacity = useSharedValue(0);\n  useEffect(() => {\n    text1Position.value = withTiming(0, {\n      duration: 1000\n    });\n    text2Position.value = withTiming(0, {\n      duration: 1000\n    });\n    const timeout1 = setTimeout(() => {\n      text1Position.value = withTiming(200, {\n        duration: 1000\n      });\n      text2Position.value = withTiming(-200, {\n        duration: 1000\n      });\n    }, 4000);\n    const timeout2 = setTimeout(() => {\n      navigation.navigate('Login');\n    }, 5000);\n    const checkAuth = async () => {\n      const token = await checkToken();\n      if (token) {\n        try {\n          const role = await getRole(token);\n          navigation.navigate(role !== 'client' ? 'Home' : 'Login');\n        } catch {\n          navigation.navigate('Login');\n        }\n      } else {\n        navigation.navigate('Login');\n      }\n    };\n    checkAuth();\n    loaderOpacity.value = withTiming(1, {\n      duration: 3000,\n      easing: Easing.linear\n    });\n    return () => {\n      clearTimeout(timeout1);\n      clearTimeout(timeout2);\n    };\n  }, [navigation]);\n  const animatedText1Style = useAnimatedStyle(function () {\n    const _e = [new global.Error(), -2, -27];\n    const SplashTsx1 = () => ({\n      transform: [{\n        translateX: text1Position.value\n      }]\n    });\n    SplashTsx1.__closure = {\n      text1Position\n    };\n    SplashTsx1.__workletHash = 5278684226245;\n    SplashTsx1.__initData = _worklet_5278684226245_init_data;\n    SplashTsx1.__stackDetails = _e;\n    return SplashTsx1;\n  }());\n  const animatedText2Style = useAnimatedStyle(function () {\n    const _e = [new global.Error(), -2, -27];\n    const SplashTsx2 = () => ({\n      transform: [{\n        translateX: text2Position.value\n      }]\n    });\n    SplashTsx2.__closure = {\n      text2Position\n    };\n    SplashTsx2.__workletHash = 5095882523014;\n    SplashTsx2.__initData = _worklet_5095882523014_init_data;\n    SplashTsx2.__stackDetails = _e;\n    return SplashTsx2;\n  }());\n  const loaderStyle = useAnimatedStyle(function () {\n    const _e = [new global.Error(), -2, -27];\n    const SplashTsx3 = () => ({\n      opacity: loaderOpacity.value\n    });\n    SplashTsx3.__closure = {\n      loaderOpacity\n    };\n    SplashTsx3.__workletHash = 17536159572726;\n    SplashTsx3.__initData = _worklet_17536159572726_init_data;\n    SplashTsx3.__stackDetails = _e;\n    return SplashTsx3;\n  }());\n  return _jsxDEV(SafeAreaView, {\n    style: styles.home,\n    children: _jsxDEV(View, {\n      style: styles.container,\n      children: [_jsxDEV(Animated.Text, {\n        style: [styles.text, animatedText1Style],\n        children: \"Voie Rapide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), _jsxDEV(View, {\n        style: styles.imageContainer,\n        children: _jsxDEV(Image, {\n          source: require('../../assets/logoVoieRapide.png'),\n          style: styles.logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), _jsxDEV(Animated.View, {\n        style: [styles.loaderContainer, loaderStyle],\n        children: [_jsxDEV(Text, {\n          style: styles.loaderText,\n          children: \".\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), _jsxDEV(Text, {\n          style: styles.loaderText,\n          children: \".\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), _jsxDEV(Text, {\n          style: styles.loaderText,\n          children: \".\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), _jsxDEV(Animated.Text, {\n        style: [styles.text, animatedText2Style],\n        children: \"Tongasoa !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n};\nexport default Splash;","map":{"version":3,"names":["React","useEffect","View","Text","SafeAreaView","Image","Animated","useSharedValue","useAnimatedStyle","withTiming","Easing","styles","checkToken","getRole","jsxDEV","_jsxDEV","_worklet_5278684226245_init_data","code","location","sourceMap","version","_worklet_5095882523014_init_data","_worklet_17536159572726_init_data","Splash","navigation","text1Position","text2Position","loaderOpacity","value","duration","timeout1","setTimeout","timeout2","navigate","checkAuth","token","role","easing","linear","clearTimeout","animatedText1Style","_e","global","Error","SplashTsx1","transform","translateX","__closure","__workletHash","__initData","__stackDetails","animatedText2Style","SplashTsx2","loaderStyle","SplashTsx3","opacity","style","home","children","container","text","fileName","_jsxFileName","lineNumber","columnNumber","imageContainer","source","require","logo","loaderContainer","loaderText"],"sources":["/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/app/screens/Splash.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { View, Text, SafeAreaView, Image, StyleSheet } from 'react-native';\nimport Animated, { useSharedValue, useAnimatedStyle, withTiming, Easing } from 'react-native-reanimated';\nimport { NativeStackNavigationProp } from '@react-navigation/native-stack';\nimport { RouteProp } from '@react-navigation/native';\nimport styles from '../../styles/splash.style';\nimport { checkToken, getRole } from '../context/AuthContext';\ntype RootStackParamList = {\n    Splash: undefined;\n    Login: undefined;\n    Home: undefined;\n};\n\ntype SplashScreenNavigationProp = NativeStackNavigationProp<RootStackParamList, 'Splash'>;\ntype SplashScreenRouteProp = RouteProp<RootStackParamList, 'Login'>;\n\ninterface SplashProps {\n    navigation: SplashScreenNavigationProp;\n    route?: SplashScreenRouteProp;\n}\n\nconst Splash: React.FC<SplashProps> = ({ navigation }) => {\n    const text1Position = useSharedValue(-200);\n    const text2Position = useSharedValue(200);\n    const loaderOpacity = useSharedValue(0);  // Opacité des points du loader\n\n    useEffect(() => {\n        text1Position.value = withTiming(0, { duration: 1000 });\n        text2Position.value = withTiming(0, { duration: 1000 });\n\n        const timeout1 = setTimeout(() => {\n            text1Position.value = withTiming(200, { duration: 1000 });\n            text2Position.value = withTiming(-200, { duration: 1000 });\n        }, 4000);\n\n        const timeout2 = setTimeout(() => {\n            navigation.navigate('Login');\n        }, 5000);\n\n        const checkAuth = async () => {\n            const token = await checkToken();\n            if (token) {\n                try {\n                    const role = await getRole(token);\n                    navigation.navigate(role !== 'client' ? 'Home' : 'Login');\n                } catch {\n                    navigation.navigate('Login');\n                }\n            } else {\n                navigation.navigate('Login');\n            }\n        };\n\n        checkAuth();\n\n        // Activation de l'animation du loader\n        loaderOpacity.value = withTiming(1, { duration: 3000, easing: Easing.linear });\n\n        return () => {\n            clearTimeout(timeout1);\n            clearTimeout(timeout2);\n        };\n    }, [navigation]);\n\n    const animatedText1Style = useAnimatedStyle(() => ({\n        transform: [{ translateX: text1Position.value }]\n    }));\n\n    const animatedText2Style = useAnimatedStyle(() => ({\n        transform: [{ translateX: text2Position.value }]\n    }));\n\n    const loaderStyle = useAnimatedStyle(() => ({\n        opacity: loaderOpacity.value,\n    }));\n\n    return (\n        <SafeAreaView style={styles.home}>\n            <View style={styles.container}>\n                <Animated.Text style={[styles.text, animatedText1Style]}>Voie Rapide</Animated.Text>\n                \n                {/* Image centrée */}\n                <View style={styles.imageContainer}>\n                    <Image source={require('../../assets/logoVoieRapide.png')} style={styles.logo} />\n                </View>\n\n                {/* Loader avec trois points animés */}\n                <Animated.View style={[styles.loaderContainer, loaderStyle]}>\n                    <Text style={styles.loaderText}>.</Text>\n                    <Text style={styles.loaderText}>.</Text>\n                    <Text style={styles.loaderText}>.</Text>\n                </Animated.View>\n                \n                <Animated.Text style={[styles.text, animatedText2Style]}>Tongasoa !</Animated.Text>\n            </View>\n        </SafeAreaView>\n    );\n};\n\nexport default Splash;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}