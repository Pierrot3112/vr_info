{"ast":null,"code":"var _jsxFileName = \"/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/components/Me.tsx\";\nimport React, { useEffect } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport { useAuth } from '../app/context/AuthContext';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Me = () => {\n  const {\n    authState,\n    getRole\n  } = useAuth();\n  const navigation = useNavigation();\n  useEffect(() => {\n    const checkRoleAndRedirect = async () => {\n      if (authState.token) {\n        try {\n          const role = await getRole(authState.token);\n          if (role === 'client') {\n            navigation.navigate('Login');\n          } else {\n            navigation.navigate('Home');\n          }\n        } catch (error) {\n          console.error(\"❌ Erreur lors de la récupération du rôle :\", error);\n          navigation.navigate('Login');\n        }\n      } else {\n        navigation.navigate('Login');\n      }\n    };\n    checkRoleAndRedirect();\n  }, [authState.token, getRole, navigation]);\n  return _jsxDEV(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: _jsxDEV(ActivityIndicator, {\n      size: \"large\",\n      color: \"#0000ff\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 7\n  }, this);\n};\nexport default Me;","map":{"version":3,"names":["React","useEffect","useNavigation","useAuth","ActivityIndicator","View","jsxDEV","_jsxDEV","Me","authState","getRole","navigation","checkRoleAndRedirect","token","role","navigate","error","console","style","flex","justifyContent","alignItems","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/media/pierrot-3112/08DE3CDADE3CC22C/dev/Mobile/VoieRapide/components/Me.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigation } from '@react-navigation/native';\nimport { useAuth } from '../app/context/AuthContext'; // Assurez-vous que le chemin est correct\nimport { ActivityIndicator, View } from 'react-native';\nconst Me = () => {\n  const { authState, getRole } = useAuth();\n  const navigation = useNavigation();\n\n  useEffect(() => {\n      const checkRoleAndRedirect = async () => {\n          if (authState.token) {\n              try {\n                  const role = await getRole(authState.token);\n                  if (role === 'client') {\n                      navigation.navigate('Login'); \n                  } else {\n                      navigation.navigate('Home'); \n                  } \n              } catch (error) {\n                  console.error(\"❌ Erreur lors de la récupération du rôle :\", error);\n                  navigation.navigate('Login'); \n              }\n          } else {\n              navigation.navigate('Login');\n          }\n      };\n\n      checkRoleAndRedirect();\n  }, [authState.token, getRole, navigation]);\n\n  return (\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n          <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      </View>\n  );\n}  \nexport default Me;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,OAAO,QAAQ,4BAA4B;AAAC,OAAAC,iBAAA;AAAA,OAAAC,IAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,EAAE,GAAGA,CAAA,KAAM;EACf,MAAM;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAGP,OAAO,CAAC,CAAC;EACxC,MAAMQ,UAAU,GAAGT,aAAa,CAAC,CAAC;EAElCD,SAAS,CAAC,MAAM;IACZ,MAAMW,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAIH,SAAS,CAACI,KAAK,EAAE;QACjB,IAAI;UACA,MAAMC,IAAI,GAAG,MAAMJ,OAAO,CAACD,SAAS,CAACI,KAAK,CAAC;UAC3C,IAAIC,IAAI,KAAK,QAAQ,EAAE;YACnBH,UAAU,CAACI,QAAQ,CAAC,OAAO,CAAC;UAChC,CAAC,MAAM;YACHJ,UAAU,CAACI,QAAQ,CAAC,MAAM,CAAC;UAC/B;QACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;UACZC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;UAClEL,UAAU,CAACI,QAAQ,CAAC,OAAO,CAAC;QAChC;MACJ,CAAC,MAAM;QACHJ,UAAU,CAACI,QAAQ,CAAC,OAAO,CAAC;MAChC;IACJ,CAAC;IAEDH,oBAAoB,CAAC,CAAC;EAC1B,CAAC,EAAE,CAACH,SAAS,CAACI,KAAK,EAAEH,OAAO,EAAEC,UAAU,CAAC,CAAC;EAE1C,OACIJ,OAAA,CAACF,IAAI;IAACa,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAC;MAAEC,cAAc,EAAE,QAAQ;MAAEC,UAAU,EAAE;IAAS,CAAE;IAAAC,QAAA,EACrEf,OAAA,CAACH,iBAAiB;MAACmB,IAAI,EAAC,OAAO;MAACC,KAAK,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChD,CAAC;AAEb,CAAC;AACD,eAAepB,EAAE","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}